<mat-sidenav-container class="example-container">
  <mat-sidenav #sidenav class="example-sidenav"
               [fixedInViewport]="true"
               [attr.role]="isHandset ? 'dialog' : 'navigation'"
               [mode]="(isHandset | async)!.matches ? 'over' : 'side'"
               [opened]="!(isHandset | async)!.matches">
     <mat-toolbar><img src="assets/images/Systems Source Script_Small.png" class="demo-avatar"></mat-toolbar>
     <mat-nav-list>
          <mat-list-item [routerLink]="['/index']" (click)="onClick(0,'home')"> 
            <mat-icon>home</mat-icon><span class="nav-caption">Home</span>
          </mat-list-item>
          <!-- <mat-list-item (mouseover)="homeMenuTrigger.openMenu()"> 
              <mat-icon #homeMenuTrigger="matMenuTrigger" [matMenuTriggerFor]="homeMenu">home</mat-icon><span class="nav-caption">Other</span>
              <mat-menu #homeMenu="matMenu">
                <button mat-menu-item>Manual Plan</button>
                <button mat-menu-item>Upload Plan</button>
                <button mat-menu-item>Pending Plans</button>
              </mat-menu>
          </mat-list-item> -->
          <mat-list-item (click)="showSubmenu = !showSubmenu" class="parent">
            <mat-icon>home</mat-icon>
            <span class="full-width" *ngIf="isExpanded || isShowing">Parent Menu</span>
            <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu}" *ngIf="isExpanded || isShowing">expand_more</mat-icon>
          </mat-list-item>
          <div class="submenu" [ngClass]="{'expanded' : showSubmenu}" *ngIf="showSubmenu">
            <mat-list-item>Submenu Item 1</mat-list-item>
            <mat-list-item>Submenu Item 2</mat-list-item>            
          </div>
          <mat-list-item  class="mat-list-item-word-wrap" [routerLink]="['../index']" [queryParams]="{id: category.itemTypeName}" (click)="onClick(category.itemTypeID,category.itemTypeName)" *ngFor="let category of inventoryCategorylist">
              <mat-icon>apps</mat-icon>
              <span class="nav-caption">{{ category.itemTypeName }}</span>              
          </mat-list-item>
  
     </mat-nav-list> 
  </mat-sidenav>

  <mat-sidenav-content>
      <!-- <mat-toolbar color="primary"> -->
      <mat-toolbar>  
          <mat-toolbar-row *ngIf="(isHandset | async)!.matches">
            <button mat-icon-button class="example-icon" 
            aria-label="Toggle sidenav"
            (click)="sidenav.toggle()">
              <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
            </button>            
              <span style="font-weight: 500;font-size: large;padding:0px 2px 2px;">{{currentClient.clientName}}</span>             
            <!-- <span class="example-spacer"></span>             -->
            <mat-form-field appearance="fill" style="width: 10%; height: 25%">
              <mat-label>Client</mat-label>
              <mat-select [formControl]="clientControl" (selectionChange)="applyClientFilter($event.value)">
              <mat-option [value]="">Select All</mat-option>
              <mat-option *ngFor="let client of inventoryClientlist" [value]="client.clientId">
                  {{client.clientName}}
              </mat-option>
              </mat-select>
          </mat-form-field>
          <span class="example-spacer"></span>
          <mat-form-field style="width: 12%;height: 30%;">
            <input matInput [(ngModel)]="searchText" #searchInput="matInput" type="search" placeholder="Search" autocomplete="off"/>
            <mat-icon [color]="searchInput.focused ? 'primary' : ''" matSuffix (click)="searchInventory()">search</mat-icon>  
          </mat-form-field>
          <span class="example-spacer"></span>
          <mat-icon matBadge="{{totalItem}}" matBadgeColor="accent" (click)="openCartDialog()">shopping_cart</mat-icon>
          <span class="example-spacer"></span>
          
          <a *ngIf="currentUser.isAdmin"  [routerLink]="['/orders']" target="_blank"><b style="font-size: medium;">Reserved</b></a>
          <button  mat-icon-button matTooltip="{{currentUser.userName}}" [matMenuTriggerFor]="menu" [matTooltipPosition]="position.value" color="">
            <mat-icon>perm_identity</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
              <button mat-menu-item>                    
                <mat-icon>exit_to_app</mat-icon><span (click)="logout()">Logout</span>
              </button>
          </mat-menu> 
          </mat-toolbar-row>
          <mat-toolbar-row *ngIf="(isHandset | async)!.matches">
            <!-- <span class="logo">Filter by building:</span> -->
            
            <mat-form-field appearance="fill" style="width: 25%; height: 10%;padding:0px 5px;">
              <mat-label>Building</mat-label>
              <mat-select [formControl]="buildingControl" (selectionChange)="applyBuildingFilter($event.value)">
              <mat-option [value]="">Select All</mat-option>
              <mat-option *ngFor="let building of inventoryBuldinglist" [value]="building.inventoryBuildingName">
                  {{building.inventoryBuildingName}}
              </mat-option>
              </mat-select>
            </mat-form-field>
             
            <mat-form-field appearance="fill" style="width: 25%; height: 10%;padding:0px 5px;">
                <mat-label>Floor</mat-label>
                <mat-select [formControl]="floorControl" (selectionChange)="applyFloorFilter($event.value)">
                <mat-option [value]="">Select All</mat-option>                      
                <mat-option *ngFor="let floor of inventoryFloorlist" [value]="floor.inventoryFloorName">
                    {{floor.inventoryFloorName}}
                </mat-option>
                </mat-select>
            </mat-form-field>
 
            <mat-form-field appearance="fill" style="width: 25%; height: 10%;padding:0px 5px;">
                <mat-label>Room</mat-label>
                <mat-select [formControl]="roomControl" (selectionChange)="applyRoomFilter($event.value)">
                <mat-option [value]="">Select All</mat-option>                      
                <mat-option *ngFor="let room of inventoryRoomlist" [value]="room">
                    {{room}}
                </mat-option>
                </mat-select>
            </mat-form-field>  
            <mat-form-field appearance="fill" style="width: 20%; height: 10%;">
              <mat-label>Condition</mat-label>
              <mat-select [formControl]="condControl" (selectionChange)="applyConditionFilter($event.value)">
              <mat-option [value]="">Select All</mat-option>    
              <mat-option *ngFor="let cond of inventoryConditionlist" [value]="cond">
                  {{cond}}
              </mat-option>
              </mat-select>
          </mat-form-field> 
            
            
          </mat-toolbar-row>

         
<!-- <below div for full dispaly mode ></below> -->
          <!-- <div fxLayout="row" *ngIf="!(isHandset | async)!.matches" style="align-items: center;"> -->
            <mat-toolbar-row *ngIf="!(isHandset | async)!.matches" style="align-items: center;">
              <!-- <span class="logo" style="word-break: normal;">{{showCategory}}</span> -->
              <!-- <span class="example-spacer"></span> -->
              <span class="logo" style="font-weight: 400;font-size: 20px; padding-top: 10px;">{{currentClient.clientName}}</span>
              <span class="example-spacer"></span>
              <mat-form-field style="width: 12%;height: 30%;">
                <input matInput [(ngModel)]="searchText" #searchInput="matInput" type="search" placeholder="Search" autocomplete="off"/>
                <mat-icon [color]="searchInput.focused ? 'primary' : ''" matSuffix (click)="searchInventory()">search</mat-icon>  
              </mat-form-field>
             
              <span class="example-spacer"></span>
            
              <mat-form-field appearance="fill" style="width: 10%; height: 25%">
                  <mat-label>Client</mat-label>
                  <mat-select [formControl]="clientControl" (selectionChange)="applyClientFilter($event.value)">
                  <mat-option [value]="">Select All</mat-option>
                  <mat-option *ngFor="let client of inventoryClientlist" [value]="client.clientId">
                      {{client.clientName}}
                  </mat-option>
                  </mat-select>
              </mat-form-field>

              <span class="example-spacer"></span>
            
                <mat-form-field appearance="fill" style="width: 10%; height: 25%">
                    <mat-label>Building</mat-label>
                    <mat-select [formControl]="buildingControl" (selectionChange)="applyBuildingFilter($event.value)">
                    <mat-option [value]="">Select All</mat-option>
                    <mat-option *ngFor="let building of inventoryBuldinglist" [value]="building.inventoryBuildingName">
                        {{building.inventoryBuildingName}}
                    </mat-option>
                    </mat-select>
                </mat-form-field>
            <span class="example-spacer"></span>
            <!-- <span class="logo">Floor:</span> -->
                <mat-form-field appearance="fill" style="width: 10%; height: 25%;">
                    <mat-label>Floor</mat-label>
                    <mat-select [formControl]="floorControl" (selectionChange)="applyFloorFilter($event.value)">
                    <mat-option [value]="">Select All</mat-option>                      
                    <mat-option *ngFor="let floor of inventoryFloorlist" [value]="floor.inventoryFloorName">
                        {{floor.inventoryFloorName}}
                    </mat-option>
                    </mat-select>
                </mat-form-field>   
            <span class="example-spacer"></span>
            <!-- <span class="logo">Room:</span> -->
                <mat-form-field appearance="fill" style="width: 10%; height: 25%;">
                    <mat-label>Room</mat-label>
                    <mat-select [formControl]="roomControl" (selectionChange)="applyRoomFilter($event.value)">
                    <mat-option [value]="">Select All</mat-option>                      
                    <mat-option *ngFor="let room of inventoryRoomlist" [value]="room">
                        {{room}}
                    </mat-option>
                    </mat-select>
                </mat-form-field>   
            <span class="example-spacer"></span>
            <!-- <span class="logo">Room:</span> -->
                <mat-form-field appearance="fill" style="width: 10%; height: 25%;">
                    <mat-label>Condition</mat-label>
                    <mat-select [formControl]="condControl" (selectionChange)="applyConditionFilter($event.value)">
                    <mat-option [value]="">Select All</mat-option>    
                    <mat-option *ngFor="let cond of inventoryConditionlist" [value]="cond">
                        {{cond}}
                    </mat-option>
                    </mat-select>
                </mat-form-field> 
                <!-- <span class="logo"><img src="./assets/images/logo-footer.png" height="30"></span> -->
            <span class="example-spacer"></span>
            <a *ngIf="currentUser.isAdmin"  [routerLink]="['/orders']" target="_blank" style="padding-top: 10px;"><b style="font-size: medium;">Reserved</b></a>
            
            <span class="example-spacer"></span>
            <mat-icon matBadge="{{totalItem}}" matBadgeColor="accent" (click)="openCartDialog()" style="padding-top: 5px;">shopping_cart</mat-icon>
            
            <span class="example-spacer"></span>

            <button  mat-icon-button matTooltip="{{currentUser.userName}}" [matMenuTriggerFor]="menu" [matTooltipPosition]="position.value" color="">
              <!-- <button  mat-mini-fab matTooltip="{{user.userName}}" [matMenuTriggerFor]="menu" [matTooltipPosition]="position.value" color=""> -->
                <mat-icon>perm_identity</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                  <button mat-menu-item>
                    <!-- <mat-icon>power_settings_new</mat-icon> -->
                    <mat-icon>exit_to_app</mat-icon><span (click)="logout()">Logout</span>
                  </button>
              </mat-menu>
            </mat-toolbar-row>          
            <!-- </div> -->
      </mat-toolbar>
      <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutAlign="start start">
        
          <div *ngIf="!inventoryList?.length && !(buildingId || floorId || roomId || condId)">     

          <!-- <div *ngIf="!inventoryList?.length; else maincardcontent">                -->
                <mat-nav-list style="margin: left 1px;">              
                  <mat-list-item  class="mat-list-item-word-wrap" [routerLink]="['../index']" [queryParams]="{id: category.itemTypeName}" (click)="onClick(category.itemTypeID,category.itemTypeName)" 
                  *ngFor="let category of inventoryCategorylist" style="background:white;color: rgb(31, 29, 29);">   
                    <span>{{ category.itemTypeName }}</span>                  
                  </mat-list-item>
                </mat-nav-list>                      
          </div>
          <ng-template [ngIf]="inventoryList?.length">
          <!-- <ng-template #maincardcontent> -->
              <mat-card class="example-card" *ngFor="let inv of inventoryList | filter : searchText">   
                <!-- <mat-card-content [ngStyle]="{'background-image': 'url(./assets/images/inventoryimg/'+ inv.image_name +')'}" (click)="openDialog(inv.inventoryItemModelsDisplay[0].inventory_id)"> -->

                    <!-- <mat-card-content [ngStyle]="{'background-image': 'url(https://ssidb-test.systemsource.com/Project/GoCanvasImages/images/'+ inv.image_name +')'}"> -->
                  <!-- <mat-card-content [ngStyle]="{'background-image': 'url('+inv.image_url+')'}" (click)="openDialog(inv.inventoryItemModelsDisplay[0].inventory_id)"> -->
                  <!-- <mat-card-content [ngStyle]="{'background': 'url('+inv.imageUrl+inv.imageName+')'}" (click)="openDialog(inv.inventoryItemModelsDisplay[0].inventoryID)"> -->
                 <mat-card-content [ngStyle]="{'background': 'url(\''+inv.imageUrl+inv.imageName+'\') center / cover'}" (click)="openDialog(inv.inventoryItemModelsDisplay[0].inventoryID)">
                         <!-- <mat-card-content style="background-repeat: no-repeat; background-size: cover;"
                    [style.background-image]="'url(\'' + inv.imageUrl+inv.imageName + '\')'"> -->

                    <span class="mat-card-content-title mat-card-content-title-text">{{inv.itemCode}}</span>
                    <span class="mat-card-content-title-spacer"></span>
                    <span class="mat-card-content-title">
                      <mat-icon style="vertical-align: middle;" (click)="openAddCartDialog($event,inv.inventoryItemModelsDisplay)">add_shopping_cart</mat-icon>
                      <!-- <mat-icon style="vertical-align: middle;" (click)="openAddOrderCartDialog($event,inv.inventoryItemModelsDisplay)">add_shopping_cart</mat-icon> -->
                    </span>
                    <span class="mat-card-content-title-spacer"></span>
                    <!-- <span class="mat-card-content-title" title="{{inv.building + ': ' + inv.floor + ': Loc ' + inv.mploc + ': Cond ' + inv.cond}}">Qty:{{inv.qty}} -->
                    <span class="mat-card-content-title" [matTooltip]="inv.tootipInventoryItem">Qty:{{inv.qty}}
                      <!-- <button mat-button matTooltip="{{inv.building + ': ' + inv.floor + ': Loc ' + inv.mploc + ': Cond ' + inv.cond}}">Qty:{{inv.qty}}</button> -->
                    </span>
                    <!-- $href->{building} . ": " . $href->{floor} . ": Loc " . $href->{mploc} . ": Qty " . $href->{qty} . ": Cond " . $href->{cond} ."\n"; -->
                </mat-card-content>
                <mat-card-actions>
                <span class="mat-card-span-action">    
                  <!-- {{inv.description}}	 -->
                  <span  [matTooltip]="inv.description">
                    {{inv.description | slice:0:40 }}
                  </span>              
                  <br/>
                  {{inv.manuf}} 
                  <br/>
                  {{inv.hwdStr.length > 0 ? inv.hwdStr : inv.fabric.length > 0 ? inv.hwdStr.length > 0 ? ','+inv.fabric : inv.fabric  : inv.finish.length > 0 ?  ','+inv.finish : ''}}  
                  <br/>
                    <a [href]="['http://ssidb-test.systemsource.com/Project/fimg/CKNO14/MSFT Sales Workstations.pdf']" target="_blank" style="padding-top: 10px;">MSFT Sales Workstations.pdf</a>
                </span> 
                </mat-card-actions>
              
            </mat-card>
            
          </ng-template>
    </div>

   </mat-sidenav-content>
</mat-sidenav-container>
